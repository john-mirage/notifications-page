var I=Object.defineProperty;var V=(n,i,t)=>i in n?I(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var p=(n,i,t)=>(V(n,typeof i!="symbol"?i+"":i,t),t),H=(n,i,t)=>{if(!i.has(n))throw TypeError("Cannot "+t)};var e=(n,i,t)=>(H(n,i,"read from private field"),t?t.call(n):i.get(n)),s=(n,i,t)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,t)},h=(n,i,t,c)=>(H(n,i,"write to private field"),c?c.call(n,t):i.set(n,t),t);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const K=[{type:"reply",username:"Mark Webber",avatar:"./avatar-mark-webber.webp",createdAt:"1m ago",markedAsRead:!1,post:"My first tournament today!"},{type:"follow",username:"Angela Gray",avatar:"./avatar-angela-gray.webp",createdAt:"5m ago",markedAsRead:!1},{type:"group",username:"Jacob Thompson",avatar:"./avatar-jacob-thompson.webp",createdAt:"1 day ago",markedAsRead:!1,action:"has joined your group",group:"Chess club"},{type:"message",username:"Rizky Hasanuddin",avatar:"./avatar-rizky-hasanuddin.webp",createdAt:"5 days ago",markedAsRead:!0,message:"Hello, thanks for setting up the Chess Club. I've been a member for a few weeks now and i'm already having lots of fun and improving my game."},{type:"comment",username:"Kimberly Smith",avatar:"./avatar-kimberly-smith.webp",createdAt:"1 week ago",markedAsRead:!0,picture:"./image-chess.webp"},{type:"reply",username:"Nathan Peterson",avatar:"./avatar-nathan-peterson.webp",createdAt:"2 weeks ago",markedAsRead:!0,post:"5 end-game strategies to increase your win rate"},{type:"group",username:"Anna Kim",avatar:"./avatar-anna-kim.webp",createdAt:"2 weeks ago",markedAsRead:!0,action:"left the group",group:"Chess club"}];var M,S,q,W,B,w,g;class j extends HTMLElement{constructor(){super();s(this,M,document.createElement("li",{is:"web-reply-notification"}));s(this,S,document.createElement("li",{is:"web-follow-notification"}));s(this,q,document.createElement("li",{is:"web-group-notification"}));s(this,W,document.createElement("li",{is:"web-message-notification"}));s(this,B,document.createElement("li",{is:"web-comment-notification"}));s(this,w,void 0);s(this,g,void 0);p(this,"notificationListElement");p(this,"badgeElement");p(this,"buttonElement");this.notificationListElement=this.querySelector('[data-id="web-app-notification-list"]'),this.badgeElement=this.querySelector('[data-id="web-app-badge"]'),this.buttonElement=this.querySelector('[data-id="web-app-button"]'),this.handleButtonClick=this.handleButtonClick.bind(this)}static get observedAttributes(){return["unread-notifications"]}get unreadNotifications(){return this.getAttribute("unread-notifications")}set unreadNotifications(t){t?this.setAttribute("unread-notifications",t):this.removeAttribute("unread-notifications")}get webNotifications(){if(e(this,w))return e(this,w);throw new Error("The web notifications are not defined")}set webNotifications(t){h(this,w,t),this.notificationListElement.replaceChildren(...e(this,w))}get notifications(){if(e(this,g))return e(this,g);throw new Error("The notifications are not defined")}set notifications(t){h(this,g,t);let c=0;this.webNotifications=e(this,g).map(a=>{switch(a.markedAsRead||(c+=1),a.type){case"reply":const o=e(this,M).cloneNode(!0);return o.replyNotification=a,o;case"follow":const v=e(this,S).cloneNode(!0);return v.followNotification=a,v;case"group":const F=e(this,q).cloneNode(!0);return F.groupNotification=a,F;case"message":const O=e(this,W).cloneNode(!0);return O.messageNotification=a,O;case"comment":const G=e(this,B).cloneNode(!0);return G.commentNotification=a,G;default:throw new Error("The notification type is not valid")}}),this.unreadNotifications=String(c)}connectedCallback(){this.notifications=K,this.buttonElement.addEventListener("click",this.handleButtonClick)}disconnectedCallback(){this.buttonElement.removeEventListener("click",this.handleButtonClick)}attributeChangedCallback(t,c,a){switch(t){case"unread-notifications":const o=a||"0";o==="0"?(this.badgeElement.classList.add("web-app__badge--empty"),this.buttonElement.hasAttribute("disabled")||this.buttonElement.setAttribute("disabled","")):(this.badgeElement.textContent=o,this.badgeElement.classList.remove("web-app__badge--empty"),this.buttonElement.hasAttribute("disabled")&&this.buttonElement.removeAttribute("disabled"));break;default:throw new Error("The modified attribute is not watched")}}handleButtonClick(){this.webNotifications.forEach(t=>{t.markedAsRead||(t.markedAsRead=!0)}),this.unreadNotifications="0"}}M=new WeakMap,S=new WeakMap,q=new WeakMap,W=new WeakMap,B=new WeakMap,w=new WeakMap,g=new WeakMap;var T,b,u;class P extends HTMLLIElement{constructor(){super();s(this,T,!0);s(this,b,void 0);s(this,u,void 0);p(this,"avatarElement");p(this,"usernameElement");p(this,"createdAtElement");p(this,"indicatorElement");const t=document.getElementById("template-web-notification");h(this,b,t.content.cloneNode(!0)),this.avatarElement=e(this,b).querySelector('[data-id="web-notification-avatar"]'),this.usernameElement=e(this,b).querySelector('[data-id="web-notification-username"]'),this.createdAtElement=e(this,b).querySelector('[data-id="web-notification-created-at"]'),this.indicatorElement=e(this,b).querySelector('[data-id="web-notification-indicator"]')}static get observedAttributes(){return["marked-as-read"]}get markedAsRead(){return this.hasAttribute("marked-as-read")}set markedAsRead(t){t?this.setAttribute("marked-as-read",""):this.removeAttribute("marked-as-read")}get notification(){if(e(this,u))return e(this,u);throw new Error("The notification is not defined")}set notification(t){h(this,u,t),this.avatarElement.setAttribute("src",e(this,u).avatar),this.avatarElement.setAttribute("alt",e(this,u).username),this.usernameElement.textContent=e(this,u).username,this.createdAtElement.textContent=e(this,u).createdAt,this.markedAsRead=e(this,u).markedAsRead}connectedCallback(){e(this,T)&&(this.classList.add("web-notification","web-notification--unread"),this.append(e(this,b)),h(this,T,!1)),this.upgradeProperty("marked-as-read"),this.upgradeProperty("notification")}upgradeProperty(t){if(this.hasOwnProperty(t)){let c=this[t];delete this[t],this[t]=c}}attributeChangedCallback(t,c,a){switch(t){case"marked-as-read":a!==null?this.classList.remove("web-notification--unread"):this.classList.add("web-notification--unread");break;default:throw new Error("The modified attribute is not watched")}}}T=new WeakMap,b=new WeakMap,u=new WeakMap;var l,C,E;class z extends P{constructor(){super();s(this,l,void 0);s(this,C,document.createElement("span"));s(this,E,document.createElement("a"));e(this,C).classList.add("web-notification__reply-label"),e(this,E).classList.add("web-notification__reply-link"),e(this,C).textContent="reacted to your recent post"}get replyNotification(){if(e(this,l))return e(this,l);throw new Error("The reply notification is not defined")}set replyNotification(t){h(this,l,t),this.notification={type:e(this,l).type,username:e(this,l).username,avatar:e(this,l).avatar,createdAt:e(this,l).createdAt,markedAsRead:e(this,l).markedAsRead},e(this,E).textContent=e(this,l).post,e(this,E).setAttribute("href","#"),this.usernameElement.after(" ",e(this,C)," ",e(this,E))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("replyNotification")}}l=new WeakMap,C=new WeakMap,E=new WeakMap;var f,L;class J extends P{constructor(){super();s(this,f,void 0);s(this,L,document.createElement("span"));e(this,L).classList.add("web-notification__follow-label"),e(this,L).textContent="followed you"}get followNotification(){if(e(this,f))return e(this,f);throw new Error("The follow notification is not defined")}set followNotification(t){h(this,f,t),this.notification={type:e(this,f).type,username:e(this,f).username,avatar:e(this,f).avatar,createdAt:e(this,f).createdAt,markedAsRead:e(this,f).markedAsRead},this.usernameElement.after(" ",e(this,L))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("followNotification")}}f=new WeakMap,L=new WeakMap;var r,R,y;class D extends P{constructor(){super();s(this,r,void 0);s(this,R,document.createElement("span"));s(this,y,document.createElement("a"));e(this,R).classList.add("web-notification__group-label"),e(this,y).classList.add("web-notification__group-link")}get groupNotification(){if(e(this,r))return e(this,r);throw new Error("The group notification is not defined")}set groupNotification(t){h(this,r,t),this.notification={type:e(this,r).type,username:e(this,r).username,avatar:e(this,r).avatar,createdAt:e(this,r).createdAt,markedAsRead:e(this,r).markedAsRead},e(this,R).textContent=e(this,r).action,e(this,y).textContent=e(this,r).group,e(this,y).setAttribute("href","#"),this.usernameElement.after(" ",e(this,R)," ",e(this,y))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("groupNotification")}}r=new WeakMap,R=new WeakMap,y=new WeakMap;var d,_,k;class Q extends P{constructor(){super();s(this,d,void 0);s(this,_,document.createElement("span"));s(this,k,document.createElement("a"));e(this,_).classList.add("web-notification__message-label"),e(this,k).classList.add("web-notification__message-link"),e(this,_).textContent="sent you a private message"}get messageNotification(){if(e(this,d))return e(this,d);throw new Error("The message notification is not defined")}set messageNotification(t){h(this,d,t),this.notification={type:e(this,d).type,username:e(this,d).username,avatar:e(this,d).avatar,createdAt:e(this,d).createdAt,markedAsRead:e(this,d).markedAsRead},e(this,k).textContent=e(this,d).message,e(this,k).setAttribute("href","#"),this.usernameElement.after(" ",e(this,_)),this.createdAtElement.after(e(this,k))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("messageNotification")}}d=new WeakMap,_=new WeakMap,k=new WeakMap;var m,x,A,N;class X extends P{constructor(){super();s(this,m,void 0);s(this,x,document.createElement("span"));s(this,A,document.createElement("a"));s(this,N,document.createElement("img"));e(this,x).classList.add("web-notification__comment-label"),e(this,A).classList.add("web-notification__comment-link"),e(this,N).classList.add("web-notification__comment-picture"),e(this,A).setAttribute("href","#"),e(this,N).setAttribute("draggable","false"),e(this,x).textContent="commented on your picture",e(this,A).append(e(this,N))}get commentNotification(){if(e(this,m))return e(this,m);throw new Error("The comment notification is not defined")}set commentNotification(t){h(this,m,t),this.notification={type:e(this,m).type,username:e(this,m).username,avatar:e(this,m).avatar,createdAt:e(this,m).createdAt,markedAsRead:e(this,m).markedAsRead},e(this,N).setAttribute("src",e(this,m).picture),this.usernameElement.after(" ",e(this,x)),this.append(e(this,A))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("commentNotification")}}m=new WeakMap,x=new WeakMap,A=new WeakMap,N=new WeakMap;customElements.define("web-app",j,{extends:"main"});customElements.define("web-reply-notification",z,{extends:"li"});customElements.define("web-follow-notification",J,{extends:"li"});customElements.define("web-group-notification",D,{extends:"li"});customElements.define("web-message-notification",Q,{extends:"li"});customElements.define("web-comment-notification",X,{extends:"li"});
