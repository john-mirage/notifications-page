var I=Object.defineProperty;var V=(s,i,e)=>i in s?I(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e;var p=(s,i,e)=>(V(s,typeof i!="symbol"?i+"":i,e),e),H=(s,i,e)=>{if(!i.has(s))throw TypeError("Cannot "+e)};var t=(s,i,e)=>(H(s,i,"read from private field"),e?e.call(s):i.get(s)),n=(s,i,e)=>{if(i.has(s))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(s):i.set(s,e)},h=(s,i,e,l)=>(H(s,i,"write to private field"),l?l.call(s,e):i.set(s,e),e);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();const K=[{type:"reply",username:"Mark Webber",avatar:"./avatar-mark-webber.webp",createdAt:"1m ago",markedAsRead:!1,post:"My first tournament today!"},{type:"follow",username:"Angela Gray",avatar:"./avatar-angela-gray.webp",createdAt:"5m ago",markedAsRead:!1},{type:"group",username:"Jacob Thompson",avatar:"./avatar-jacob-thompson.webp",createdAt:"1 day ago",markedAsRead:!1,action:"has joined your group",group:"Chess club"},{type:"message",username:"Rizky Hasanuddin",avatar:"./avatar-rizky-hasanuddin.webp",createdAt:"5 days ago",markedAsRead:!0,message:"Hello, thanks for setting up the Chess Club. I've been a member for a few weeks now and i'm already having lots of fun and improving my game."},{type:"comment",username:"Kimberly Smith",avatar:"./avatar-kimberly-smith.webp",createdAt:"1 week ago",markedAsRead:!0,picture:"./image-chess.webp",pictureAlt:"chess club"},{type:"reply",username:"Nathan Peterson",avatar:"./avatar-nathan-peterson.webp",createdAt:"2 weeks ago",markedAsRead:!0,post:"5 end-game strategies to increase your win rate"},{type:"group",username:"Anna Kim",avatar:"./avatar-anna-kim.webp",createdAt:"2 weeks ago",markedAsRead:!0,action:"left the group",group:"Chess club"}];var M,S,q,W,B,E,y;class j extends HTMLElement{constructor(){super();n(this,M,document.createElement("li",{is:"web-reply-notification"}));n(this,S,document.createElement("li",{is:"web-follow-notification"}));n(this,q,document.createElement("li",{is:"web-group-notification"}));n(this,W,document.createElement("li",{is:"web-message-notification"}));n(this,B,document.createElement("li",{is:"web-comment-notification"}));n(this,E,void 0);n(this,y,void 0);p(this,"notificationListElement");p(this,"badgeElement");p(this,"buttonElement");this.notificationListElement=this.querySelector('[data-id="web-app-notification-list"]'),this.badgeElement=this.querySelector('[data-id="web-app-badge"]'),this.buttonElement=this.querySelector('[data-id="web-app-button"]'),this.handleButtonClick=this.handleButtonClick.bind(this)}static get observedAttributes(){return["unread-notifications"]}get unreadNotifications(){return this.getAttribute("unread-notifications")}set unreadNotifications(e){e?this.setAttribute("unread-notifications",e):this.removeAttribute("unread-notifications")}get webNotifications(){if(t(this,E))return t(this,E);throw new Error("The web notifications are not defined")}set webNotifications(e){h(this,E,e),this.notificationListElement.replaceChildren(...t(this,E))}get notifications(){if(t(this,y))return t(this,y);throw new Error("The notifications are not defined")}set notifications(e){h(this,y,e);let l=0;this.webNotifications=t(this,y).map(a=>{switch(a.markedAsRead||(l+=1),a.type){case"reply":const o=t(this,M).cloneNode(!0);return o.replyNotification=a,o;case"follow":const v=t(this,S).cloneNode(!0);return v.followNotification=a,v;case"group":const F=t(this,q).cloneNode(!0);return F.groupNotification=a,F;case"message":const O=t(this,W).cloneNode(!0);return O.messageNotification=a,O;case"comment":const G=t(this,B).cloneNode(!0);return G.commentNotification=a,G;default:throw new Error("The notification type is not valid")}}),this.unreadNotifications=String(l)}connectedCallback(){this.notifications=K,this.buttonElement.addEventListener("click",this.handleButtonClick)}disconnectedCallback(){this.buttonElement.removeEventListener("click",this.handleButtonClick)}attributeChangedCallback(e,l,a){switch(e){case"unread-notifications":const o=a||"0";o==="0"?(this.badgeElement.classList.add("web-app__badge--empty"),this.buttonElement.hasAttribute("disabled")||this.buttonElement.setAttribute("disabled","")):(this.badgeElement.textContent=o,this.badgeElement.classList.remove("web-app__badge--empty"),this.buttonElement.hasAttribute("disabled")&&this.buttonElement.removeAttribute("disabled"));break;default:throw new Error("The modified attribute is not watched")}}handleButtonClick(){this.webNotifications.forEach(e=>{e.markedAsRead||(e.markedAsRead=!0)}),this.unreadNotifications="0"}}M=new WeakMap,S=new WeakMap,q=new WeakMap,W=new WeakMap,B=new WeakMap,E=new WeakMap,y=new WeakMap;var T,b,u;class P extends HTMLLIElement{constructor(){super();n(this,T,!0);n(this,b,void 0);n(this,u,void 0);p(this,"avatarElement");p(this,"usernameElement");p(this,"createdAtElement");p(this,"indicatorElement");const e=document.getElementById("template-web-notification");h(this,b,e.content.cloneNode(!0)),this.avatarElement=t(this,b).querySelector('[data-id="web-notification-avatar"]'),this.usernameElement=t(this,b).querySelector('[data-id="web-notification-username"]'),this.createdAtElement=t(this,b).querySelector('[data-id="web-notification-created-at"]'),this.indicatorElement=t(this,b).querySelector('[data-id="web-notification-indicator"]')}static get observedAttributes(){return["marked-as-read"]}get markedAsRead(){return this.hasAttribute("marked-as-read")}set markedAsRead(e){e?this.setAttribute("marked-as-read",""):this.removeAttribute("marked-as-read")}get notification(){if(t(this,u))return t(this,u);throw new Error("The notification is not defined")}set notification(e){h(this,u,e),this.avatarElement.setAttribute("src",t(this,u).avatar),this.avatarElement.setAttribute("alt",t(this,u).username),this.usernameElement.textContent=t(this,u).username,this.createdAtElement.textContent=t(this,u).createdAt,this.markedAsRead=t(this,u).markedAsRead}connectedCallback(){t(this,T)&&(this.classList.add("web-notification","web-notification--unread"),this.append(t(this,b)),h(this,T,!1)),this.upgradeProperty("marked-as-read"),this.upgradeProperty("notification")}upgradeProperty(e){if(this.hasOwnProperty(e)){let l=this[e];delete this[e],this[e]=l}}attributeChangedCallback(e,l,a){switch(e){case"marked-as-read":a!==null?this.classList.remove("web-notification--unread"):this.classList.add("web-notification--unread");break;default:throw new Error("The modified attribute is not watched")}}}T=new WeakMap,b=new WeakMap,u=new WeakMap;var d,C,A;class z extends P{constructor(){super();n(this,d,void 0);n(this,C,document.createElement("span"));n(this,A,document.createElement("a"));t(this,C).classList.add("web-notification__reply-label"),t(this,A).classList.add("web-notification__reply-link"),t(this,C).textContent="reacted to your recent post"}get replyNotification(){if(t(this,d))return t(this,d);throw new Error("The reply notification is not defined")}set replyNotification(e){h(this,d,e),this.notification={type:t(this,d).type,username:t(this,d).username,avatar:t(this,d).avatar,createdAt:t(this,d).createdAt,markedAsRead:t(this,d).markedAsRead},t(this,A).textContent=t(this,d).post,t(this,A).setAttribute("href","#"),this.usernameElement.after(" ",t(this,C)," ",t(this,A))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("replyNotification")}}d=new WeakMap,C=new WeakMap,A=new WeakMap;var f,L;class J extends P{constructor(){super();n(this,f,void 0);n(this,L,document.createElement("span"));t(this,L).classList.add("web-notification__follow-label"),t(this,L).textContent="followed you"}get followNotification(){if(t(this,f))return t(this,f);throw new Error("The follow notification is not defined")}set followNotification(e){h(this,f,e),this.notification={type:t(this,f).type,username:t(this,f).username,avatar:t(this,f).avatar,createdAt:t(this,f).createdAt,markedAsRead:t(this,f).markedAsRead},this.usernameElement.after(" ",t(this,L))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("followNotification")}}f=new WeakMap,L=new WeakMap;var c,R,k;class D extends P{constructor(){super();n(this,c,void 0);n(this,R,document.createElement("span"));n(this,k,document.createElement("a"));t(this,R).classList.add("web-notification__group-label"),t(this,k).classList.add("web-notification__group-link")}get groupNotification(){if(t(this,c))return t(this,c);throw new Error("The group notification is not defined")}set groupNotification(e){h(this,c,e),this.notification={type:t(this,c).type,username:t(this,c).username,avatar:t(this,c).avatar,createdAt:t(this,c).createdAt,markedAsRead:t(this,c).markedAsRead},t(this,R).textContent=t(this,c).action,t(this,k).textContent=t(this,c).group,t(this,k).setAttribute("href","#"),this.usernameElement.after(" ",t(this,R)," ",t(this,k))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("groupNotification")}}c=new WeakMap,R=new WeakMap,k=new WeakMap;var m,_,N;class Q extends P{constructor(){super();n(this,m,void 0);n(this,_,document.createElement("span"));n(this,N,document.createElement("a"));t(this,_).classList.add("web-notification__message-label"),t(this,N).classList.add("web-notification__message-link"),t(this,_).textContent="sent you a private message"}get messageNotification(){if(t(this,m))return t(this,m);throw new Error("The message notification is not defined")}set messageNotification(e){h(this,m,e),this.notification={type:t(this,m).type,username:t(this,m).username,avatar:t(this,m).avatar,createdAt:t(this,m).createdAt,markedAsRead:t(this,m).markedAsRead},t(this,N).textContent=t(this,m).message,t(this,N).setAttribute("href","#"),this.usernameElement.after(" ",t(this,_)),this.createdAtElement.after(t(this,N))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("messageNotification")}}m=new WeakMap,_=new WeakMap,N=new WeakMap;var r,x,w,g;class X extends P{constructor(){super();n(this,r,void 0);n(this,x,document.createElement("span"));n(this,w,document.createElement("a"));n(this,g,document.createElement("img"));t(this,x).classList.add("web-notification__comment-label"),t(this,w).classList.add("web-notification__comment-link"),t(this,g).classList.add("web-notification__comment-picture"),t(this,w).setAttribute("href","#"),t(this,g).setAttribute("draggable","false"),t(this,x).textContent="commented on your picture",t(this,w).append(t(this,g))}get commentNotification(){if(t(this,r))return t(this,r);throw new Error("The comment notification is not defined")}set commentNotification(e){h(this,r,e),this.notification={type:t(this,r).type,username:t(this,r).username,avatar:t(this,r).avatar,createdAt:t(this,r).createdAt,markedAsRead:t(this,r).markedAsRead},t(this,w).setAttribute("aria-label",t(this,r).pictureAlt),t(this,g).setAttribute("src",t(this,r).picture),t(this,g).setAttribute("alt",t(this,r).pictureAlt),this.usernameElement.after(" ",t(this,x)),this.append(t(this,w))}connectedCallback(){super.connectedCallback(),this.upgradeProperty("commentNotification")}}r=new WeakMap,x=new WeakMap,w=new WeakMap,g=new WeakMap;customElements.define("web-app",j,{extends:"main"});customElements.define("web-reply-notification",z,{extends:"li"});customElements.define("web-follow-notification",J,{extends:"li"});customElements.define("web-group-notification",D,{extends:"li"});customElements.define("web-message-notification",Q,{extends:"li"});customElements.define("web-comment-notification",X,{extends:"li"});
